# Unity WebGL小游戏适配方案性能标准
## 为什么需要性能评测标准？
性能评测标准希望能引导开发者优化相关性能数据，提升用户体验。


## 开发者需要关注哪些性能指标
从小游戏的运行周期来看，主要由启动和运行两个阶段产生性能问题。

启动阶段：启动时长，该数据将显著影响用户打开留存率
运行阶段：内存峰值、流畅度、CPU占用、网络等
其他兼容性问题，包括逻辑异常、黑屏等严重问题


## 评测标准细则

### 性能基线
评测小游戏性能首先需要确定性能基线, 即先确定机型设备条件。根据目前小游戏玩家机型情况建议以下机型:

| 能力 |Android参考机型  |iOS参考机型  |
| --- | --- |--- |
| 高档 |小米10 |iPhone11|
| 中档 |VIVOX21 |iPhoneX|
| 低档 |OPPO R9S |iPhone7|
 

### 评测工具
启动性能：
使用网络模拟工具1MB/s条件，使用Unity适配插件的Loader加载框架提供TimeLog窗口获取性能数据。

运行性能: 
使用PerfDog测试，游戏主流程对局5~10min, PerfDog记录性能数据并上传，取平均值，每种机型测试3组数据再取平均，内存峰值取最大值。

### 代码与资源体积
首包资源(压缩后)： <5M
WASM代码(压缩后):  <5M

### Android 评测标准
<image src='../image/perfmeasure3.png' width="500"/>


### iOS 评测标准

<image src='../image/perfmeasure4.png' width="500"/>
